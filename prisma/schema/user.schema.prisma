
model User {
  id           Int      @id @default(autoincrement())
  name         String
  email        String   @unique
  password     String
  needPasswordChange Boolean  @default(false)
  role         UserRole @default(TOURIST)

  profilePhoto String?
  isPremium    Boolean  @default(false)
  isDeleted    Boolean  @default(false)

  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt

  admin    Admin?
  host     Host?
  tourist  Tourist?

  @@map("users")
}

model Admin {
  id           Int      @id @default(autoincrement())
  userId       Int      @unique

  name         String
  email        String   @unique
  phone        String?
  profilePhoto String?

  isDeleted    Boolean  @default(false)

  user         User     @relation(fields: [userId], references: [id], onDelete: Cascade)

  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt

  @@map("admins")
}

model Host {
  id           Int      @id @default(autoincrement())
  userId       Int      @unique

  phone        String?
  address      String?
  isVerified   Boolean  @default(false)

  user         User     @relation(fields: [userId], references: [id], onDelete: Cascade)

  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt

  @@map("hosts")
}

model Tourist {
  id        Int      @id @default(autoincrement())
  userId    Int      @unique

  phone     String?
  country   String?
  bio       String?

  user      User     @relation(fields: [userId], references: [id], onDelete: Cascade)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("tourists")
}
